2025-11-20 19:46:36,508 - INFO - Loading medical profiles dataset from: data/medical_profiles.csv
2025-11-20 19:46:36,763 - INFO - Dataset loaded: 569 profiles (removed 0 with nulls)
2025-11-20 19:46:36,795 - INFO - Actions detected: ['sin_accion', 'recordatorio_medicamento', 'contactar_medico', 'verificar_condicion', 'actualizar_ficha', 'revisar_alergias']
2025-11-20 19:46:36,801 - INFO - Action distribution:
accion_recomendada
recordatorio_medicamento    184
sin_accion                  171
revisar_alergias             88
verificar_condicion          46
contactar_medico             40
actualizar_ficha             40
2025-11-20 19:46:36,852 - INFO - Preparing features from medical profiles...
2025-11-20 19:46:36,881 - INFO - Features prepared: 569 samples, 12 features
2025-11-20 19:46:36,884 - INFO - Feature names: ['edad', 'tiene_alergias', 'condicion_cronica', 'toma_medicamentos', 'sangre_O+', 'sangre_O-', 'sangre_A+', 'sangre_A-', 'sangre_B+', 'sangre_B-', 'sangre_AB+', 'sangre_AB-']
2025-11-20 19:46:36,889 - INFO - ================================================================================
2025-11-20 19:46:36,890 - INFO - RESOURCEHUB TRAINING PIPELINE STARTED
2025-11-20 19:46:36,901 - INFO - ================================================================================
2025-11-20 19:46:37,006 - INFO - Data split - Train: 455, Test: 114
2025-11-20 19:46:37,043 - INFO - Building Decision Tree classifier...
2025-11-20 19:46:37,044 - INFO - Decision Tree configured
2025-11-20 19:46:37,045 - INFO - Training model...
2025-11-20 19:46:37,085 - INFO - Training completed
2025-11-20 19:46:37,092 - INFO - Evaluating model performance...
2025-11-20 19:46:37,148 - INFO - PERFORMANCE METRICS:
2025-11-20 19:46:37,167 - INFO -   Train Accuracy: 0.7648
2025-11-20 19:46:37,168 - INFO -   Test Accuracy:  0.6228
2025-11-20 19:46:37,175 - INFO -   Precision:      0.6728
2025-11-20 19:46:37,211 - INFO -   Recall:         0.6228
2025-11-20 19:46:37,212 - INFO -   F1-Score:       0.6371
2025-11-20 19:46:37,213 - INFO -   Tree Depth:     8
2025-11-20 19:46:37,214 - INFO -   Tree Leaves:    61
2025-11-20 19:46:37,250 - INFO - 
CLASSIFICATION REPORT:
                          precision    recall  f1-score   support

        actualizar_ficha       0.20      0.12      0.15         8
        contactar_medico       0.00      0.00      0.00         8
recordatorio_medicamento       0.74      0.54      0.62        37
        revisar_alergias       0.89      0.89      0.89        18
              sin_accion       0.85      0.82      0.84        34
     verificar_condicion       0.32      0.67      0.43         9

                accuracy                           0.62       114
               macro avg       0.50      0.51      0.49       114
            weighted avg       0.67      0.62      0.64       114

2025-11-20 19:46:37,453 - INFO - 
CONFUSION MATRIX:
[[ 1  1  4  1  1  0]
 [ 0  0  1  1  4  2]
 [ 2  4 20  0  0 11]
 [ 0  2  0 16  0  0]
 [ 2  4  0  0 28  0]
 [ 0  1  2  0  0  6]]
2025-11-20 19:46:37,457 - INFO - 
FEATURE IMPORTANCE:
2025-11-20 19:46:37,458 - INFO -    1. edad                 0.303911
2025-11-20 19:46:37,459 - INFO -    2. tiene_alergias       0.226347
2025-11-20 19:46:37,459 - INFO -    3. toma_medicamentos    0.172967
2025-11-20 19:46:37,461 - INFO -    4. condicion_cronica    0.131853
2025-11-20 19:46:37,463 - INFO -    5. sangre_O-            0.034927
2025-11-20 19:46:37,465 - INFO -    6. sangre_A+            0.030788
2025-11-20 19:46:37,468 - INFO -    7. sangre_AB+           0.028106
2025-11-20 19:46:37,472 - INFO -    8. sangre_B+            0.025424
2025-11-20 19:46:37,474 - INFO -    9. sangre_AB-           0.018830
2025-11-20 19:46:37,476 - INFO -   10. sangre_O+            0.018086
2025-11-20 19:46:37,483 - INFO -   11. sangre_A-            0.008761
2025-11-20 19:46:37,496 - INFO - ================================================================================
2025-11-20 19:46:37,497 - INFO - TRAINING COMPLETED SUCCESSFULLY
2025-11-20 19:46:37,499 - INFO - ================================================================================
2025-11-20 19:46:37,500 - INFO - Saving model artifacts...
2025-11-20 19:46:37,591 - INFO - Model saved to: models/resourcehub_classifier.joblib
2025-11-20 19:46:37,594 - INFO - Label encoder saved to: models/resourcehub_encoder.joblib
2025-11-20 19:46:37,595 - INFO - Feature names saved to: models/feature_names.json
2025-11-20 19:46:37,597 - INFO - Metrics saved to: models/training_metrics.json
2025-11-20 19:46:37,598 - INFO - Pipeline completed successfully
